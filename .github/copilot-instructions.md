# Copilot Instructions
## 基本ルール
- すべて日本語で記述してください
- ベストプラクティスの具体例を提示してください
- リファレンスや学習リソースの提案を積極的に行ってください
- スケーラビリティとパフォーマンスを重点的にチェックしてください

## コードレビュー専用指示
### レビューの基本方針
以下のプレフィックスを使用してレビューコメントを分類してください：
- `[must]` - 必須修正項目（セキュリティ、バグ、重大な設計問題）
- `[recommend]` - 推奨修正項目（パフォーマンス、可読性の大幅改善）
- `[nits]` - 軽微な指摘（コードスタイル、タイポ等）

### 重点チェック項目
1. **セキュリティ**: SQLインジェクション、XSS、認証・認可の不備
2. **パフォーマンス**: N+1問題、不要なループ、メモリリーク
3. **可読性**: 変数名、関数名、コメントの適切性
4. **保守性**: DRY原則、SOLID原則の遵守
5. **テスト**: テストケースの網羅性、エッジケースの考慮
6. **言語固有のベストプラクティス**: 各言語の推奨パターンに準拠しているか、非推奨・廃止予定のAPIや構文を使用していないかチェック

## 作業指示の場合の共通ルール
- 必要に応じて、ユーザに質問を行い、要求を明確にすること
- 作業完了後、作業内容とユーザが次に取れる行動を説明すること

## 専門作業タスク指示のルール
- 「調査」と指示された場合、都度 docs/reports に記載すること
  - 不明な点については、fetch mcp を使用して検索すること
  - ファイル名は `YYYYMMDDmmss-title.md` とする

- 「計画」と指示した場合、*plan.md に計画を記載する
  - 前回の内容が残っている場合は、読まずに消して構わない
  - コードベース / docs を読み込み、要件に関連性のあるファイルパスをすべて記載すること
  - 必要最小限の要件のみを記載すること
  - このフェーズで、コードを書いては絶対にいけない
  - ソースコードを読み込み、影響範囲や関連箇所の特定と考慮をする

- ユーザが「実装」と指示した場合、*plan.md に記載された内容に基づいて実装を行う
  - 必ず docs 内にステートメント管理を行ってから実装を始める
  - ステート管理には、必ず根拠を示した順番通りの並びにする必要がある
  - plan に記載されている以上の実装を絶対に行わない
  - ここでデバッグしない

- 「デバッグ」と指示された場合、直前のタスクのデバッグ「手順」のみを示す
